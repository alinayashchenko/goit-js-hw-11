{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE = 'https://pixabay.com/api/';\nconst API_KEY = '52976301-a1fb84bd42c9f8b3493191a02';\n\nexport function getImagesByQuery(query) {\n    const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 40,\n    };\n\n    return axios.get(API_BASE, { params }).then(response => {\n    return response.data;\n    });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'loaders.css/loaders.min.css';\n\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function createGallery(images) {\n    if (!Array.isArray(images) || images.length === 0) return;\n\n    const markup = images\n    .map(img => {\n        const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        } = img;\n\n        return `\n        <li class=\"gallery__item\">\n        <a href=\"${largeImageURL}\" class=\"gallery__link\">\n            <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"card-stats\">\n            <span>üëç ${likes}</span>\n            <span>üëÅ ${views}</span>\n            <span>üí¨ ${comments}</span>\n            <span>‚¨á ${downloads}</span>\n        </div>\n        </li>\n    `;\n    })\n    .join('');\n\n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n    if (!loader) return;\n    loader.classList.add('visible');\n    loader.setAttribute('aria-hidden', 'false');\n}\n\nexport function hideLoader() {\n    if (!loader) return;\n    loader.classList.remove('visible');\n    loader.setAttribute('aria-hidden', 'true');\n}","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n    createGallery,\n    clearGallery,\n    showLoader,\n    hideLoader,\n} from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.getElementById('search-form');\nconst input = document.getElementById('search-input');\n\nfunction notifyEmptyQuery() {\n    iziToast.warning({\n    title: 'Warning',\n    message: 'Please enter a search query.',\n    position: 'topRight',\n    });\n}\n\nfunction notifyNoResults() {\n    iziToast.error({\n    title: 'No results',\n    message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n    });\n}\n\nfunction notifyError(errorMessage = 'An error occurred while fetching images') {\n    iziToast.error({\n    title: 'Error',\n    message: errorMessage,\n    position: 'topRight',\n    });\n}\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n\n    const query = input.value.trim();\n\n    if (query.length === 0) {\n    notifyEmptyQuery();\n    return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(query)\n    .then(data => {\n        if (!data || !Array.isArray(data.hits)) {\n        notifyError('Unexpected response format from API.');\n        return;\n        }\n\n        if (data.hits.length === 0) {\n        notifyNoResults();\n        return;\n        }\n\n        createGallery(data.hits);\n    })\n    .catch(err => {\n        console.error('API error:', error);\n        notifyError(error.message || 'Failed to fetch images.');\n    })\n    .finally(() => {\n        hideLoader();\n    });\n});"],"names":["API_BASE","API_KEY","getImagesByQuery","query","params","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","input","notifyEmptyQuery","iziToast","notifyNoResults","notifyError","errorMessage","event","data","err"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAS,CACf,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,EAEI,OAAOE,EAAM,IAAIL,EAAU,CAAE,OAAAI,EAAQ,EAAE,KAAKE,GACrCA,EAAS,IACf,CACL,CCdA,MAAMC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,GAAI,CAAC,MAAM,QAAQA,CAAM,GAAKA,EAAO,SAAW,EAAG,OAEnD,MAAMC,EAASD,EACd,IAAIE,GAAO,CACR,KAAM,CACN,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACC,EAAGP,EAEJ,MAAO;AAAA;AAAA,mBAEIE,CAAa;AAAA,+CACeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,uBAGlDC,CAAK;AAAA,uBACLC,CAAK;AAAA,uBACLC,CAAQ;AAAA,sBACTC,CAAS;AAAA;AAAA;AAAA,KAI/B,CAAK,EACA,KAAK,EAAE,EAERd,EAAQ,mBAAmB,YAAaM,CAAM,EAE9CJ,EAAS,QAAO,CACpB,CAEO,SAASa,GAAe,CAC3Bf,EAAQ,UAAY,EACxB,CAEO,SAASgB,GAAa,CACpBf,IACLA,EAAO,UAAU,IAAI,SAAS,EAC9BA,EAAO,aAAa,cAAe,OAAO,EAC9C,CAEO,SAASgB,GAAa,CACpBhB,IACLA,EAAO,UAAU,OAAO,SAAS,EACjCA,EAAO,aAAa,cAAe,MAAM,EAC7C,CCnDA,MAAMiB,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAQ,SAAS,eAAe,cAAc,EAEpD,SAASC,GAAmB,CACxBC,EAAS,QAAQ,CACjB,MAAO,UACP,QAAS,+BACT,SAAU,UACd,CAAK,CACL,CAEA,SAASC,GAAkB,CACvBD,EAAS,MAAM,CACf,MAAO,aACP,QACI,2EACJ,SAAU,UACd,CAAK,CACL,CAEA,SAASE,EAAYC,EAAe,0CAA2C,CAC3EH,EAAS,MAAM,CACf,MAAO,QACP,QAASG,EACT,SAAU,UACd,CAAK,CACL,CAEAN,EAAK,iBAAiB,SAAUO,GAAS,CACrCA,EAAM,eAAc,EAEpB,MAAM7B,EAAQuB,EAAM,MAAM,KAAI,EAE9B,GAAIvB,EAAM,SAAW,EAAG,CACxBwB,IACA,MACC,CAEDL,IACAC,IAEArB,EAAiBC,CAAK,EACrB,KAAK8B,GAAQ,CACV,GAAI,CAACA,GAAQ,CAAC,MAAM,QAAQA,EAAK,IAAI,EAAG,CACxCH,EAAY,sCAAsC,EAClD,MACC,CAED,GAAIG,EAAK,KAAK,SAAW,EAAG,CAC5BJ,IACA,MACC,CAEDlB,EAAcsB,EAAK,IAAI,CAC/B,CAAK,EACA,MAAMC,GAAO,CACV,QAAQ,MAAM,aAAc,KAAK,EACjCJ,EAAY,MAAM,SAAW,yBAAyB,CAC9D,CAAK,EACA,QAAQ,IAAM,CACXN,GACR,CAAK,CACL,CAAC"}